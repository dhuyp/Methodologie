\documentclass[twoside,a4paper,12pt,titlepage]{book}
\usepackage[french]{babel}

\usepackage{ifxetex}

\ifxetex
  \usepackage{fontspec}
\else
   \usepackage[utf8]{inputenc}
\fi


\usepackage{marvosym}
\usepackage{wasysym}
\usepackage{dingbat}
\usepackage{amsfonts}
\usepackage[outer=3cm, bottom=2cm, inner=2cm, heightrounded, marginparwidth=2.5cm, marginparsep=0.25cm]{geometry}
\usepackage{graphicx}
\usepackage[table,usenames,dvipsnames]{xcolor}
\usepackage{array}
\usepackage{fancyhdr}
\usepackage[hidelinks]{hyperref}
\usepackage[final]{pdfpages}
\usepackage[minted,listings,xparse]{tcolorbox}
\usepackage{afterpage}
\usepackage{pdflscape}
\usepackage{makeidx}
\usepackage{framed}
\usepackage{ifthen}
\usepackage[yyyymmdd]{datetime}
\usepackage{marginnote}
\usepackage{multirow}
\usepackage{tikz}
\usetikzlibrary{mindmap,decorations.pathmorphing,calc,shadows.blur,shadings,shapes,backgrounds}
\tcbuselibrary{skins,raster}
\tcbuselibrary{xparse,breakable}

%% Glossary
\input{Methodologie-Glossary.tex}

%% Paper Style
\input{Paper-Style.tex}

%% Definition of standard updated
\input{cryptoStandard.tex}

% Style d'encart et commande
\input{Methodologie-Encarts.tex}

%% Index
\makeindex

%%FIXME Commande
\newcommand{\FIXME}[1]{{\huge\textbf{FIXME: #1}}}

%% Itemize
\renewcommand{\labelitemi}{$\bullet$}
\renewcommand{\labelitemii}{$\cdot$}
\renewcommand{\labelitemiii}{$\diamond$}
\renewcommand{\labelitemiv}{$\ast$}

%% Fancy
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\newcommand{\MarginPar}[2]{\marginnote{\scriptsize #1}[#2]}
\renewcommand{\dateseparator}{}

%% Graphics
\newsavebox\SchematicsBox
\newsavebox\ExampleBox

%% Description
\title{Formalisation de Méthodologie pour les audits de sécurité}
\author{Pierre d'Huy}
\date{\today\\v0.2 alpha}

\begin{document}

\chapter{Audit de configuration}

\section{Système d'exploitation}
\subsection{GNU/Linux}
\subsection{Microsoft Windows}

\subsubsection{Politique des comptes utilisateurs}
La gestion des comptes utilisateurs est un point important de tout système d'exploitation. La gestion des comptes passe d'abord par la gestion de leurs mots de passe. Il est recommandé de forcer l'utilisateur à choisir un mot de passe fort, étant différent des précédant mots de passe et dont l'usage doit être limité à une période de temps. Ces contraintes minimisent le risque qu'un attaquant  réussisse à découvrir le mot de passe par attaque par brute-force. La politique de blocage des comptes est un autre point important de la gestion des comptes. Il faut notamment configurer le temps d'inactivité avant verrouillage de session,  le nombre de tentatives de connexions autorisées et le temps de verrouillage d'un compte utilisateur. Si la machine fait partie d'un domaine \textbf{Active Directory}, ces poliques peuvent être distribuées par \textbf{GPO}.\\
Localement elles peuvent aussi être configurées avec l'outil \textbf{Stratégie de sécurité locale} dans \textbf{Paramètres de sécurité} puis \textbf{Stratégies de comptes}.\\
La configuration peut être récupérée avec l'outil \pshell{secedit.exe} en utilisant la commande suivante: \pshell{secedit /export /CFG secedit.txt}.\\
On peut aussi récupérer la configuration en accèdant à la clé de registre correspondante:\\
\begin{center}\bfseries \footnotesize HKEY\_LOCAL\_MACHINE\textbackslash SYSTEM\textbackslash CurrentControlSet\textbackslash Services\textbackslash Netlogon\textbackslash Parameters\end{center}% changer la police (monospace)

\subsubsection{Attribution des droits d'utilisateur}
Les droits accordés aux utilisateurs doivent être restreint au maximum, pour minimiser la capacité d'un attaquant à faire une élévation de privilèges lors d'une compromission d'un compte ou d'une machine. L'accès distant depuis le réseau ou la connection via des services comme \textbf{Remote Desktop Service} doit être réservée au compte \textbf{Administrateur}. De même pour les fonctionnalité du système, par exemple le changement d'heure du système affecte la journalisation et doit donc aussi être restreint à l'administrateur. L'utilisateur \textbf{Guests} même si il n'est pas activé par défaut, doit avoir les droits les plus restreints possible. Toutes ces configurations sont distribuables par \textbf{GPO}. Locallement cette politique peut être modifié avec l'outil \textbf{Stratégie de sécurité locale} dans \textbf{Paramètres de sécurité} puis \textbf{Stratégies de comptes}.\\

Les configurations sur la politique des comptes utilisateurs sont accessibles avec l'outil  \textbf{secedit.exe} en utilisant la commande suivante:\\ \pshell{secedit /export /areas USER_RIGHTS /cfg policies.txt}.\\

\subsubsection{Pare-feu}

\subsubsection{Gestion des logs}

\subsubsection{Composants Windows}


\end{document}